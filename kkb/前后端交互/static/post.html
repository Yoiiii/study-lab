<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <form action="" enctype="application/x-www-form-urlencoded"></form>
  <button>点击我发送Ajax</button>
</body>
<script>
    document.querySelector("button").onclick=function(){
    let xhr = new XMLHttpRequest()
    xhr.open("post","/post",true)
    xhr.onload=function(){
      console.log(xhr.responseText);
      //获取返还头信息
      console.log(xhr.getAllResponseHeaders());
      console.log(xhr.getResponseHeader("content-type"));
    }
    //post 必须设置编码格式
    //xhr.setRequestHeader("content-type","application/x-www-form-urlencoded")
    //let data="username=王五&age=20"
    //如果上传文件要设置为二进制
    //xhr.setRequestHeader("content-type","multipart/form-data")
    xhr.setRequestHeader("content-type","application/json")
    let data=JSON.stringify({
      username:"王五",
      age:20
    })
    xhr.send(data)//post 在send中加入data
  }
</script>
</html>